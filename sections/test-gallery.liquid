{% comment %}
  Section: Image Gallery
  Description: A full-width section with 4 images, each 353px x 500px, with a 20px gap.
{% endcomment %}

<div class="image-gallery">
  {% for i in (1..4) %}
    {% assign image_setting = 'image_' | append: i %}
    {% if section.settings[image_setting] != blank %}
      <div class="image-gallery__item">
        <img
          src="{{ section.settings[image_setting] | image_url: '353x500', crop: 'center' }}"
          alt="{{ section.settings[image_setting].alt | escape }}"
          loading="lazy"
          width="353"
          height="500"
        >
      </div>
    {% else %}
      <div class="image-gallery__item">
        {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
      </div>
    {% endif %}
  {% endfor %}
</div>

{% schema %}
{
  "name": "Image Gallery",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Image Settings"
    },
    {
      "type": "image_picker",
      "id": "image_1",
      "label": "Image 1"
    },
    {
      "type": "image_picker",
      "id": "image_2",
      "label": "Image 2"
    },
    {
      "type": "image_picker",
      "id": "image_3",
      "label": "Image 3"
    },
    {
      "type": "image_picker",
      "id": "image_4",
      "label": "Image 4"
    }
  ],
  "presets": [
    {
      "name": "Image Gallery"
    }
  ]
}
{% endschema %}

<style>
  .image-gallery {
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
    padding: 0 20px;
    max-width: 100%;
    margin: 0 auto;
  }

  .image-gallery__item {
    flex: 0 0 calc(25% - 15px);
    max-width: calc(25% - 15px);
  }

  .image-gallery__item img {
    width: 100%;
    height: 500px;
    object-fit: cover;
    border-radius: 8px;
  }

  @media (max-width: 767px) {
    .image-gallery__item {
      flex: 0 0 calc(50% - 10px);
      max-width: calc(50% - 10px);
    }
  }

  @media (max-width: 480px) {
    .image-gallery__item {
      flex: 0 0 100%;
      max-width: 100%;
    }
  }
</style>