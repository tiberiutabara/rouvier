{% comment %} 
Title: Rouvier Custom Product
{% endcomment %}

<style>

</style>

<div class="product-details-section">

    <div class="product-gallery flex">
        <!-- Container for the smaller images on the left -->
        <div class="flex flex-col" id="thumbnail-container">
          {% for media in product.media %}
            {%- if media.media_type == 'image' -%}
              {% unless forloop.first %}
                <img 
                  src="{{ media | image_url: width: 1000 }}"
                  alt="{{ product.title }} image"
                  class="gallery-image w-[150px] h-[150px] cursor-pointer"
                  loading="lazy"
                  data-src="{{ media | image_url: width: 1000 }}"
                  data-index="{{ forloop.index }}"
                  onclick="swapImage(this)"
                  width="1000"
                  height="1000"
                >
              {% endunless %}
            {%- endif -%}
          {% endfor %}
        </div>
      
        <!-- Container for the larger image on the right -->
        {%- assign first_media = product.media.first -%}
        {%- if first_media.media_type == 'image' -%}
          <img 
            src="{{ first_media | image_url: width: 1000 }}"
            alt="{{ product.title }} image"
            class="gallery-image w-[600px] h-[600px] cursor-pointer"
            loading="lazy"
            id="large-image"
            data-src="{{ first_media | image_url: width: 1000 }}"
            width="1000"
            height="1000"
          >
        {%- endif -%}
    </div>
      
      
      <!-- custom breadcrumbs -->
      {% render 'breadcrumbs' %}

  <h1 class="product-title">{{ product.title }}</h1>
  
  <div class="product-description">
    {{ product.description }}
  </div>
  
  <div class="product-price">
    <span class="price">{{ product.price | money }}</span>
    {% if product.compare_at_price > product.price %}
      <span class="compare-at-price">{{ product.compare_at_price | money }}</span>
    {% endif %}
  </div>
  
  <form action="/cart/add" method="post" enctype="multipart/form-data">
    <input type="hidden" name="id" value="{{ product.variants.first.id }}" />
    <button type="submit" class="add-to-cart-button">Add to Cart</button>
  </form>
</div>

<script>
    function swapImage(clickedImage) {
      const largeImage = document.getElementById('large-image');
  
      // Store the large image data
      const tempSrc = largeImage.src;
      const tempDataSrc = largeImage.dataset.src;
  
      // Swap the large image with the clicked thumbnail
      largeImage.src = clickedImage.dataset.src;
      largeImage.dataset.src = clickedImage.src;
  
      // Replace only the clicked thumbnail's image, keeping others unchanged
      clickedImage.src = tempDataSrc;
      clickedImage.dataset.src = tempSrc;
    }
  </script>

{% schema %}
{
  "name": "Rouvier Custom Product",
  "presets": [
    {
      "name": "Rouvier Custom Product"
    }
  ]
}
{% endschema %}